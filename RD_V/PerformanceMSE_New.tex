

\begin{frame}{Performance of Scalar Quantizers: MSE Distortion}
\begin{center}
  \hfitbox{0.8\linewidth}{%
  \begin{tikzpicture}
     \begin{axis}[
        compat=newest,
        width=14cm,height=4.7cm,
        axis lines=none,
        xmin=-4.5,xmax=4.5,ymin=-0.15,ymax=0.52,
        clip mode=individual, % ensures curves are plot one after another
        after end axis/.code={
          \draw[->,style={-{Latex[length=2.5mm,width=1.2mm]},line width=0.5pt}] 
               (axis cs: -5,0) -- (axis cs: 5,0);
          %\node[black, anchor=north east] at (axis cs: 5,-0.01) {$s$};
        }
     ]
       \addplot[name path=func,black,samples=101,domain=-4.5:4.5,line width=0.5pt,mark=none] {0.5*exp(-abs(x))};
       \path[name path=axis] (axis cs: -4.5,0) -- (axis cs: 4.5,0);
       \node[anchor=north west,yshift=-.5ex] at (axis cs:  4.5,0) {$s$};
       \addplot[red!20]         fill between[of=func and axis,soft clip={domain=-0.5: 0.5}];
       \addplot[green!20]       fill between[of=func and axis,soft clip={domain=-1.5:-0.5}];
       \addplot[green!20]       fill between[of=func and axis,soft clip={domain= 0.5: 1.5}];
       \addplot[blue!20]        fill between[of=func and axis,soft clip={domain=-2.5:-1.5}];
       \addplot[blue!20]        fill between[of=func and axis,soft clip={domain= 1.5: 2.5}];
       \addplot[vividviolet!20] fill between[of=func and axis,soft clip={domain=-3.5:-2.5}];
       \addplot[vividviolet!20] fill between[of=func and axis,soft clip={domain= 2.5: 3.5}];
       \addplot[cyan!20]        fill between[of=func and axis,soft clip={domain=-4.5:-3.5}];
       \addplot[cyan!20]        fill between[of=func and axis,soft clip={domain= 3.5: 4.5}];

       \pgfmathsetmacro{\su}{0.52}
       \pgfmathsetmacro{\ou}{-0.15}
       \begin{scope}
         \addplot[line width=0.5pt,dashed] coordinates { ( 0.5,{\ou}) ( 0.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { (-0.5,{\ou}) (-0.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { ( 1.5,{\ou}) ( 1.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { (-1.5,{\ou}) (-1.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { ( 2.5,{\ou}) ( 2.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { (-2.5,{\ou}) (-2.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { ( 3.5,{\ou}) ( 3.5,{\su}) };
         \addplot[line width=0.5pt,dashed] coordinates { (-3.5,{\ou}) (-3.5,{\su}) };
       \end{scope}
     
       \begin{scope}
         \node[anchor=north,yshift=-.3ex] at (axis cs: -3.5,{\ou}) {$u_{-3}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs: -2.5,{\ou}) {$u_{-2}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs: -1.5,{\ou}) {$u_{-1}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs: -0.5,{\ou}) {$u_{0}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs:  0.5,{\ou}) {$u_{1}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs:  1.5,{\ou}) {$u_{2}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs:  2.5,{\ou}) {$u_{3}$};
         \node[anchor=north,yshift=-.3ex] at (axis cs:  3.5,{\ou}) {$u_{4}$};
       \end{scope}
       
       \pgfmathsetmacro{\ss}{0.33}
       \pgfmathsetmacro{\os}{0.00}
       \begin{scope}
         \addplot[line width=1.0pt,myred]    coordinates { ( 0.0,{\os}) ( 0.0,{\ss}) };
         \addplot[line width=1.0pt,mygreen]  coordinates { ( 0.9,{\os}) ( 0.9,{\ss}) };
         \addplot[line width=1.0pt,mygreen]  coordinates { (-0.9,{\os}) (-0.9,{\ss}) };
         \addplot[line width=1.0pt,myblue]   coordinates { ( 1.9,{\os}) ( 1.9,{\ss}) };
         \addplot[line width=1.0pt,myblue]   coordinates { (-1.9,{\os}) (-1.9,{\ss}) };
         \addplot[line width=1.0pt,myviolet] coordinates { ( 2.9,{\os}) ( 2.9,{\ss}) };
         \addplot[line width=1.0pt,myviolet] coordinates { (-2.9,{\os}) (-2.9,{\ss}) };
         \addplot[line width=1.0pt,cyan]     coordinates { ( 3.9,{\os}) ( 3.9,{\ss}) };
         \addplot[line width=1.0pt,cyan]     coordinates { (-3.9,{\os}) (-3.9,{\ss}) };

         \draw[fill,myred]    (axis cs:  0.0,{\ss}) circle [radius=2.5pt];
         \draw[fill,mygreen]  (axis cs:  0.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,mygreen]  (axis cs: -0.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,myblue]   (axis cs:  1.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,myblue]   (axis cs: -1.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,myviolet] (axis cs:  2.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,myviolet] (axis cs: -2.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,cyan]     (axis cs:  3.9,{\ss}) circle [radius=2.5pt];
         \draw[fill,cyan]     (axis cs: -3.9,{\ss}) circle [radius=2.5pt];
         
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs: -3.9,{\os}) {$s'_{-4}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs: -2.9,{\os}) {$s'_{-3}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs: -1.9,{\os}) {$s'_{-2}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs: -0.9,{\os}) {$s'_{-1}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs:  0.0,{\os}) {$s'_{0}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs:  0.9,{\os}) {$s'_{1}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs:  1.9,{\os}) {$s'_{2}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs:  2.9,{\os}) {$s'_{3}$};
         \node[blue,anchor=north,yshift=-.0ex] at (axis cs:  3.9,{\os}) {$s'_{4}$};
       \end{scope}
  \end{axis}
  \end{tikzpicture}}
\end{center}
\bit
\item Average MSE distortion $D$ is given by
  \begin{align}\label{QuantMSE}
    D
      &\;=\;
      \EV{\big(\,S-Q(S)\,\big)^2}
      \uncover<2->{=
      \int_{-\infty}^{\infty}(s-Q(s))^2f(s)ds}
      \uncover<3->{
        \;=\;
      \sum_{\forall k}\int_{u_k}^{u_{k+1}}(s-s'_k)^2\,f(s)\;\d s}
  \end{align}
\item<4->[\iarrow]\smallskip Similar for other additive distortion measures (e.g., all $p$-norm distortion measures)
\eit\vspace{-5ex}
\end{frame}

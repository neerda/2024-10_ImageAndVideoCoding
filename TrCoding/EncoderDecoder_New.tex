

\begin{frame}{Transform Encoder and Transform Decoder}
\vspace{-2ex}
\begin{center}
  \hfitbox{0.75\linewidth}{%
  \begin{tikzpicture}
     [
      pstep/.style={
        draw=black,
        fill=white,
        line width=0.75pt,
        minimum width=1.2cm,
        minimum height=0.7cm,
        inner sep=0,
        align=center
      },
      nbox/.style={pstep,
        rectangle
      },
      sbox/.style={nbox,myred,fill=myred!10,text=myred},
      tbox/.style={nbox,
        minimum width=2.2cm,
        minimum height=3.1cm
      },
      narrow/.style={
        line width=0.75pt,
        -{Latex[length=2.5mm,width=1.3mm]}
        },
    ]
    \draw[fill=gray!10,draw=none] (-5.0,2.3) rectangle (5.0,-1.8);
    \node[anchor=north west,xshift=0.5ex,yshift=-0.5ex,text=black!70] 
                     at (-5.00, 2.30) {\relsize{1}\ital{encoder}};
    \node[sbox] (q0) at ( 0.00, 1.20) {\relsize{2}$\alpha_0$};
    \node[sbox] (q1) at ( 0.00, 0.20) {\relsize{2}$\alpha_1$};
    \node[]          at ( 0.00,-0.40) {\relsize{2}$\vdots$};
    \node[sbox] (qx) at ( 0.00,-1.20) {\relsize{2}$\alpha_{N-1}$};
    \node[tbox,myblue,fill=myblue!10,text=myblue,align=center] (a)  at (-3.30, 0.00) 
       {
         \relsize{1}analysis\\[1ex]
         \relsize{1}transform\\[3ex]
         \relsize{2}$\ve{A}$
       };
    \node[tbox,mygreen,fill=mygreen!10,text=mygreen,align=center] (b)  at ( 3.30, 0.00) 
       {
         \relsize{1}entropy\\[1ex]
         \relsize{1}coding\\[3ex]
         \relsize{2}$\gamma$
       };
    \draw[narrow] (a.east |- q0.east) -- (q0) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u_0$};
    \draw[narrow] (a.east |- q1.east) -- (q1) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u_1$};
    \draw[narrow] (a.east |- qx.east) -- (qx) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u_{N-1}$};
    \draw[narrow] (q0) -- (q0.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_0$};
    \draw[narrow] (q1) -- (q1.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_1$};
    \draw[narrow] (qx) -- (qx.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_{N-1}$};
    \draw[narrow]       (-7.0, 0.00) -- (a);
    \draw[narrow] (b) -- (7.0, 0.00);
    \node[anchor=south west,align=left,inner sep=0pt,yshift=1.5ex] at (-7,0)
      {\relsize{1}blocks of\\[1ex]\relsize{1}samples};
    \node[anchor=north west,align=left,inner sep=0pt,yshift=-2ex,xshift=2em] at (-7,0)
      {\relsize{1}$\ve{s}$};
    \node[anchor=south east,align=right,inner sep=0pt,yshift=1.5ex] at (7,0)
      {\relsize{1}bitstream};
    \node[anchor=north east,align=right,inner sep=0pt,yshift=-2ex,xshift=-2em] at (7,0)
      {\relsize{1}$\ve{b}$};
  \end{tikzpicture}
  }

  \smallskip
  \uncover<2->{\hfitbox{0.75\linewidth}{%
  \begin{tikzpicture}
     [
      pstep/.style={
        draw=black,
        fill=white,
        line width=0.75pt,
        minimum width=1.2cm,
        minimum height=0.7cm,
        inner sep=0,
        align=center
      },
      nbox/.style={pstep,
        rectangle
      },
      sbox/.style={nbox,myred,fill=myred!10,text=myred},
      tbox/.style={nbox,
        minimum width=2.2cm,
        minimum height=3.1cm
      },
      narrow/.style={
        line width=0.75pt,
        -{Latex[length=2.5mm,width=1.3mm]}
        },
    ]
    \draw[fill=gray!10,draw=none] (-5.0,2.3) rectangle (5.0,-1.8);
    \node[anchor=north west,xshift=0.5ex,yshift=-0.5ex,text=black!70] 
                     at (-5.00, 2.30) {\relsize{1}\ital{decoder}};
    \node[sbox] (q0) at ( 0.00, 1.20) {\relsize{2}$\beta_0$};
    \node[sbox] (q1) at ( 0.00, 0.20) {\relsize{2}$\beta_1$};
    \node[]          at ( 0.00,-0.40) {\relsize{2}$\vdots$};
    \node[sbox] (qx) at ( 0.00,-1.20) {\relsize{2}$\beta_{N-1}$};
    \node[tbox,mygreen,fill=mygreen!10,text=mygreen,align=center] (a)  at (-3.30, 0.00) 
       {
         \relsize{1}entropy\\[1ex]
         \relsize{1}decoding\\[3ex]
         \relsize{2}$\gamma^{-1}$
       };
    \node[tbox,myblue,fill=myblue!10,text=myblue,align=center] (b)  at ( 3.30, 0.00) 
       {
         \relsize{1}synthesis\\[1ex]
         \relsize{1}transform\\[3ex]
         \relsize{2}$\ve{B}$
       };
    \draw[narrow] (a.east |- q0.east) -- (q0) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_0$};
    \draw[narrow] (a.east |- q1.east) -- (q1) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_1$};
    \draw[narrow] (a.east |- qx.east) -- (qx) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$q_{N-1}$};
    \draw[narrow] (q0) -- (q0.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u'_0$};
    \draw[narrow] (q1) -- (q1.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u'_1$};
    \draw[narrow] (qx) -- (qx.west -| b.west) 
          node[pos=0.50,anchor=base,yshift=1.3ex] {\relsize{1}$u'_{N-1}$};
    \draw[narrow]       (-7.0, 0.00) -- (a);
    \draw[narrow] (b) -- (7.0, 0.00);
    \node[anchor=south west,align=left,inner sep=0pt,yshift=1.5ex] at (-7,0)
      {\relsize{1}bitstream};
    \node[anchor=north west,align=left,inner sep=0pt,yshift=-2ex,xshift=2em] at (-7,0)
      {\relsize{1}$\ve{b}$};
    \node[anchor=south east,align=right,inner sep=0pt,yshift=1.5ex] at (7,0)
      {\relsize{1}blocks of\\[1ex]\relsize{1}reconstr.\\[1ex]\relsize{1}samples};
    \node[anchor=north east,align=right,inner sep=0pt,yshift=-2ex,xshift=-2em] at (7,0)
      {\relsize{1}$\ve{s'}$};
  \end{tikzpicture}
  }}
\end{center}\vspace{-1ex}
\end{frame}
